(this["webpackJsonpBlog-react"]=this["webpackJsonpBlog-react"]||[]).push([[0],{28:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},37:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(21),i=c.n(a),s=(c(28),c(29),c(6)),o=(c(30),c(8)),l=c(1);function j(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(window.innerWidth),i=Object(s.a)(a,2),j=i[0],u=i[1];Object(n.useEffect)((function(){var e=function(){u(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);return Object(l.jsxs)("nav",{children:[Object(l.jsxs)("div",{className:"small-nav",children:[Object(l.jsx)(o.c,{to:"/",exact:!0,children:Object(l.jsx)("h1",{children:"React-Blog"})}),Object(l.jsx)("button",{onClick:function(){r(!c)},children:Object(l.jsx)("i",{className:"fas fa-bars"})})]}),(c||j>600)&&Object(l.jsxs)("div",{className:"nav-link",children:[Object(l.jsx)(o.c,{to:"/",exact:!0,activeClassName:"current",children:"Accueil"}),Object(l.jsx)(o.c,{to:"/form",exact:!0,activeClassName:"current",children:"Cr\xe9er un article"})]})]})}c(37);var u=c(23),b=c(17),d=Object(n.createContext)(),O=function(e){var t=Object(n.useState)([]),c=Object(s.a)(t,2),r=c[0],a=c[1];function i(){fetch("https://jsonplaceholder.typicode.com/posts/").then((function(e){return e.json()})).then((function(e){for(var t=Object(b.a)(r),c=0;c<20;c++)t.push({title:e[c].title,content:e[c].body,id:e[c].id});a(t)}))}return Object(n.useEffect)((function(){window.onload=i()}),[]),Object(l.jsx)(d.Provider,{value:{article:r,addArticle:function(e){var t=Object(b.a)(r);t.unshift(e),a(t)},fetchArticle:i},children:e.children})};function h(){var e=Object(n.useContext)(d).article,t=Object(n.useRef)([]),c=function(e){e&&!t.current.includes(e)&&t.current.push(e)};return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("h2",{children:"Tous les articles"}),Object(l.jsx)("article",{children:e.map((function(e){return Object(l.jsxs)("div",{ref:c,className:"item",children:[Object(l.jsx)("h4",{children:e.title}),Object(l.jsx)(o.b,{to:{pathname:"/content/".concat(e.title.replace(/\s+/g,"-").trim()),state:{title:e.title,content:e.content}},children:"Lire l'article"})]},Object(u.v4)())}))})]})}var f=r.a.memo(h);c(40);function x(){var e=Object(n.useContext)(d).addArticle,t=Object(n.useState)(""),c=Object(s.a)(t,2),r=c[0],a=c[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),j=o[0],u=o[1],b=Object(n.useState)(""),O=Object(s.a)(b,2),h=O[0],f=O[1],x=Object(n.useState)(""),v=Object(s.a)(x,2),m=v[0],p=v[1];return Object(n.useEffect)((function(){setTimeout((function(){""!==m&&p("")}),1500)}),[m]),Object(l.jsxs)("div",{className:"formulaire",children:[Object(l.jsx)("h2",{children:"Cr\xe9er un nouvel article"}),Object(l.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),r.length<2||j.length<2?(f("color: green"),p("Veuillez renseigner au moins 20 caract\xe8res")):(e({title:r,content:j}),a(""),u(""),p("l'article a bien \xe9t\xe9 ajout\xe9"))}(t)},children:[Object(l.jsx)("label",{htmlFor:"title",children:"Entrez un titre :"}),Object(l.jsx)("input",{value:r,onInput:function(e){return function(e){a(e)}(e.target.value)},className:"title",type:"text",id:"title"}),Object(l.jsx)("label",{htmlFor:"article",children:"Ecrire un article :"}),Object(l.jsx)("textarea",{value:j,onInput:function(e){return function(e){u(e)}(e.target.value)},className:"body",id:"article"}),Object(l.jsx)("button",{children:"Envoyer"}),Object(l.jsx)("div",{style:{color:h},className:"alert",children:m})]})]})}var v=c(2);c(41);function m(){var e=Object(v.f)();return Object(l.jsx)("div",{className:"container-article",children:Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("h2",{children:e.state.title}),Object(l.jsx)("p",{children:e.state.content})]})})}c(42);var p=Object(n.createContext)(),g=function(e){var t=Object(n.useState)(!1),c=Object(s.a)(t,2),r=c[0],a=c[1];return Object(l.jsx)(p.Provider,{value:{toggleMode:r,changeMode:function(){a(!r)}},children:e.children})};function N(){var e=Object(n.useContext)(p),t=e.toggleMode,c=e.changeMode;return Object(l.jsx)("div",{className:"dark-btn",children:Object(l.jsxs)("button",{onClick:c,className:t?"active-btn dark-mode":"dark-mode",children:[Object(l.jsx)("i",{className:"fas fa-moon"}),Object(l.jsx)("i",{className:"fas fa-sun"})]})})}var w=function(){var e=Object(n.useContext)(p).toggleMode;return Object(l.jsx)("div",{className:e?"App dark":"App",children:Object(l.jsxs)(o.a,{basename:"/React-Blog",children:[Object(l.jsx)(j,{}),Object(l.jsx)(N,{}),Object(l.jsxs)(v.c,{children:[Object(l.jsx)(v.a,{path:"/",exact:!0,component:f}),Object(l.jsx)(v.a,{path:"/form",exact:!0,component:x}),Object(l.jsx)(v.a,{path:"/content/:slug",exact:!0,component:m})]})]})})};i.a.render(Object(l.jsx)(g,{children:Object(l.jsx)(O,{children:Object(l.jsx)(w,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.3eef0d58.chunk.js.map